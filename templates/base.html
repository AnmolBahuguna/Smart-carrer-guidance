<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}SmartCareer - AI Career Guidance{% endblock %}</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <!-- Google Fonts for Modern Typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@600;700;800&display=swap" rel="stylesheet">
    
    <!-- Core Layout & Responsive CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/responsive-fix.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/mobile-force-fix.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/resources-dropdown-fix.css') }}">
    
    <!-- DARK MODE CYBERPUNK THEME -->
    <!-- Modern dark mode with cyberpunk-inspired colors and glowing effects -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dark-mode-cyberpunk.css') }}">
    
    <!-- ANIMATED THEME - Scroll Reveals & Modern Animations -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/animated-theme.css') }}">
    
    {% block extra_css %}{% endblock %}
    
    <!-- FINAL COMPREHENSIVE TEXT VISIBILITY FIX -->
    <!-- This MUST be loaded ABSOLUTELY LAST to override all other CSS and ensure all text is visible -->
    <!-- Fixes: gradient text, opacity, contrast, z-index, overflow, positioning issues -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/final-visibility-fix.css') }}">
    
    <!-- ULTIMATE TEXT VISIBILITY OVERRIDE -->
    <!-- Ensures ALL text is readable with proper backgrounds and contrast -->
    <!-- This is the ABSOLUTE LAST CSS file loaded -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/text-visibility-override.css') }}">
</head>
<body class="bg-gray-50">
    <!-- Enhanced Navigation -->
    <nav class="navbar fixed top-0 w-full z-50 transition-all duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <a href="/" class="flex items-center space-x-3 group">
                        <div class="w-10 h-10 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-xl flex items-center justify-center transform transition-all duration-300 group-hover:scale-110 group-hover:rotate-3">
                            <i class="fas fa-graduation-cap text-white text-xl"></i>
                        </div>
                        <span class="text-2xl font-bold gradient-text">SmartCareer</span>
                    </a>
                </div>
                
                <!-- Desktop Menu -->
                <div class="hidden md:flex items-center space-x-1">
                    <a href="/" class="nav-link">Home</a>
                    <a href="/quiz" class="nav-link">Career Quiz</a>
                    <a href="/chatbot" class="nav-link flex items-center gap-2">
                        <i class="fas fa-robot text-sm"></i>AI Mentor
                    </a>
                    <div class="relative group">
                        <button class="nav-link flex items-center gap-2">
                            Resources <i class="fas fa-chevron-down text-xs"></i>
                        </button>
                        <div class="absolute left-0 mt-2 w-64 bg-white rounded-2xl shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 transform group-hover:translate-y-0 translate-y-2 border border-gray-100">
                            <div class="p-2">
                                <a href="/ai-ml-datascience" class="flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gradient-to-r hover:from-indigo-50 hover:to-purple-50 hover:text-indigo-600 transition-all duration-200 rounded-xl">
                                    <div class="w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-brain text-white text-sm"></i>
                                    </div>
                                    <div>
                                        <div class="font-semibold text-sm">AI/ML & Data Science</div>
                                        <div class="text-xs text-gray-500">Career paths & skills</div>
                                    </div>
                                </a>
                                <a href="/scholarships" class="flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gradient-to-r hover:from-yellow-50 hover:to-orange-50 hover:text-yellow-600 transition-all duration-200 rounded-xl">
                                    <div class="w-8 h-8 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-award text-white text-sm"></i>
                                    </div>
                                    <div>
                                        <div class="font-semibold text-sm">Scholarships</div>
                                        <div class="text-xs text-gray-500">Financial aid opportunities</div>
                                    </div>
                                </a>
                                <a href="/college_finder" class="flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gradient-to-r hover:from-green-50 hover:to-emerald-50 hover:text-green-600 transition-all duration-200 rounded-xl">
                                    <div class="w-8 h-8 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-university text-white text-sm"></i>
                                    </div>
                                    <div>
                                        <div class="font-semibold text-sm">College Finder</div>
                                        <div class="text-xs text-gray-500">Find your perfect college</div>
                                    </div>
                                </a>
                                <a href="/resume_builder" class="flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gradient-to-r hover:from-purple-50 hover:to-pink-50 hover:text-purple-600 transition-all duration-200 rounded-xl">
                                    <div class="w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-file-alt text-white text-sm"></i>
                                    </div>
                                    <div>
                                        <div class="font-semibold text-sm">Resume Builder</div>
                                        <div class="text-xs text-gray-500">Create professional resumes</div>
                                    </div>
                                </a>
                                <a href="/career_insights" class="flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gradient-to-r hover:from-red-50 hover:to-pink-50 hover:text-red-600 transition-all duration-200 rounded-xl rounded-b-xl">
                                    <div class="w-8 h-8 bg-gradient-to-br from-red-500 to-pink-600 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-chart-line text-white text-sm"></i>
                                    </div>
                                    <div>
                                        <div class="font-semibold text-sm">Career Insights</div>
                                        <div class="text-xs text-gray-500">Industry trends & data</div>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Auth Buttons -->
                <div class="hidden md:flex items-center space-x-3">
                    {% if 'user_email' in session %}
                        <a href="/dashboard" class="btn btn-ghost">
                            <i class="fas fa-tachometer-alt mr-2"></i>Dashboard
                        </a>
                        <a href="/logout" class="btn btn-outline">
                            <i class="fas fa-sign-out-alt mr-2"></i>Logout
                        </a>
                    {% else %}
                        <a href="/login" class="btn btn-ghost">
                            <i class="fas fa-sign-in-alt mr-2"></i>Login
                        </a>
                        <a href="/register" class="btn btn-primary">
                            <i class="fas fa-user-plus mr-2"></i>Sign Up
                        </a>
                    {% endif %}
                </div>
                
                <!-- Mobile menu button -->
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="text-gray-700 hover:text-indigo-600 p-2 rounded-lg hover:bg-gray-100 transition-colors">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Mobile menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-200">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="/" class="block px-3 py-2 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition">Home</a>
                <a href="/quiz" class="block px-3 py-2 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition">Career Quiz</a>
                <a href="/chatbot" class="block px-3 py-2 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition">AI Mentor</a>
                <div class="border-t border-gray-200 my-2"></div>
                <a href="/ai-ml-datascience" class="block px-3 py-2 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition">AI/ML & Data Science</a>
                <a href="/scholarships" class="block px-3 py-2 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition">Scholarships</a>
                <a href="/college_finder" class="block px-3 py-2 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition">College Finder</a>
                <a href="/resume_builder" class="block px-3 py-2 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition">Resume Builder</a>
                <a href="/career_insights" class="block px-3 py-2 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition">Career Insights</a>
                <div class="border-t border-gray-200 my-2"></div>
                {% if 'user_email' in session %}
                    <a href="/dashboard" class="block px-3 py-2 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition">Dashboard</a>
                    <a href="/logout" class="block px-3 py-2 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition">Logout</a>
                {% else %}
                    <a href="/login" class="block px-3 py-2 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition">Login</a>
                    <a href="/register" class="block px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition">Sign Up</a>
                {% endif %}
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-16">
        {% block content %}{% endblock %}
    </main>

    <!-- Enhanced Professional Footer -->
    <footer class="relative overflow-hidden" style="background: linear-gradient(135deg, #1F2937 0%, #111827 100%);">
        <!-- Gradient Top Border -->
        <div class="absolute top-0 left-0 w-full h-1" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);"></div>
        
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-8">
                <!-- Brand Section -->
                <div class="space-y-4">
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="w-12 h-12 rounded-xl flex items-center justify-center" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                            <i class="fas fa-graduation-cap text-white text-2xl"></i>
                        </div>
                        <span class="text-2xl font-bold" style="color: #ffffff;">SmartCareer</span>
                    </div>
                    <p class="text-gray-300 text-sm leading-relaxed">
                        Your AI-powered career guidance platform helping students discover their dream careers through intelligent assessments and personalized recommendations.
                    </p>
                    <!-- Social Icons -->
                    <div class="flex space-x-3 pt-2">
                        <a href="https://facebook.com" target="_blank" class="w-11 h-11 flex items-center justify-center rounded-xl transition-all duration-300 hover:-translate-y-1" style="background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.1);" onmouseover="this.style.background='linear-gradient(135deg, #667eea 0%, #764ba2 100%)'" onmouseout="this.style.background='rgba(255, 255, 255, 0.1)'">
                            <i class="fab fa-facebook-f text-gray-400 hover:text-white transition"></i>
                        </a>
                        <a href="https://twitter.com" target="_blank" class="w-11 h-11 flex items-center justify-center rounded-xl transition-all duration-300 hover:-translate-y-1" style="background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.1);" onmouseover="this.style.background='linear-gradient(135deg, #667eea 0%, #764ba2 100%)'" onmouseout="this.style.background='rgba(255, 255, 255, 0.1)'">
                            <i class="fab fa-twitter text-gray-400 hover:text-white transition"></i>
                        </a>
                        <a href="https://linkedin.com" target="_blank" class="w-11 h-11 flex items-center justify-center rounded-xl transition-all duration-300 hover:-translate-y-1" style="background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.1);" onmouseover="this.style.background='linear-gradient(135deg, #667eea 0%, #764ba2 100%)'" onmouseout="this.style.background='rgba(255, 255, 255, 0.1)'">
                            <i class="fab fa-linkedin-in text-gray-400 hover:text-white transition"></i>
                        </a>
                        <a href="https://instagram.com" target="_blank" class="w-11 h-11 flex items-center justify-center rounded-xl transition-all duration-300 hover:-translate-y-1" style="background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.1);" onmouseover="this.style.background='linear-gradient(135deg, #667eea 0%, #764ba2 100%)'" onmouseout="this.style.background='rgba(255, 255, 255, 0.1)'">
                            <i class="fab fa-instagram text-gray-400 hover:text-white transition"></i>
                        </a>
                    </div>
                </div>
                
                <!-- Quick Links -->
                <div>
                    <h3 class="text-white font-semibold text-sm uppercase tracking-wider mb-6">Quick Links</h3>
                    <ul class="space-y-3">
                        <li><a href="/" class="text-gray-400 hover:text-white hover:pl-2 transition-all duration-300 inline-block">Home</a></li>
                        <li><a href="/quiz" class="text-gray-400 hover:text-white hover:pl-2 transition-all duration-300 inline-block">Career Quiz</a></li>
                        <li><a href="/chatbot" class="text-gray-400 hover:text-white hover:pl-2 transition-all duration-300 inline-block">AI Mentor</a></li>
                        <li><a href="/career_insights" class="text-gray-400 hover:text-white hover:pl-2 transition-all duration-300 inline-block">Career Insights</a></li>
                    </ul>
                </div>
                
                <!-- Resources & Tools -->
                <div>
                    <h3 class="text-white font-semibold text-sm uppercase tracking-wider mb-6">Tools & Resources</h3>
                    <ul class="space-y-3">
                        <li><a href="/college_finder" class="text-gray-400 hover:text-white hover:pl-2 transition-all duration-300 inline-block">College Finder</a></li>
                        <li><a href="/resume_builder" class="text-gray-400 hover:text-white hover:pl-2 transition-all duration-300 inline-block">Resume Builder</a></li>
                        <li><a href="/scholarships" class="text-gray-400 hover:text-white hover:pl-2 transition-all duration-300 inline-block">Scholarships</a></li>
                        <li><a href="/ai-ml-datascience" class="text-gray-400 hover:text-white hover:pl-2 transition-all duration-300 inline-block">AI/ML Guide</a></li>
                        <li><a href="/dashboard" class="text-gray-400 hover:text-white hover:pl-2 transition-all duration-300 inline-block">Dashboard</a></li>
                    </ul>
                </div>
                
                <!-- Support & Legal -->
                <div>
                    <h3 class="text-white font-semibold text-sm uppercase tracking-wider mb-6">Support</h3>
                    <ul class="space-y-3">
                        <li><a href="/login" class="text-gray-400 hover:text-white hover:pl-2 transition-all duration-300 inline-block">Sign In</a></li>
                        <li><a href="/register" class="text-gray-400 hover:text-white hover:pl-2 transition-all duration-300 inline-block">Create Account</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white hover:pl-2 transition-all duration-300 inline-block">Help Center</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white hover:pl-2 transition-all duration-300 inline-block">Privacy Policy</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white hover:pl-2 transition-all duration-300 inline-block">Terms of Service</a></li>
                    </ul>
                </div>
            </div>
            
            <!-- Footer Bottom -->
            <div class="border-t pt-8 text-center" style="border-color: rgba(255, 255, 255, 0.1);">
                <p class="text-gray-400 text-sm mb-3">
                    &copy; 2025 SmartCareer. All rights reserved. Made with <span style="color: #f5576c;">❤</span> for students worldwide.
                </p>
                <div class="flex items-center justify-center space-x-4 text-sm">
                    <a href="#" class="text-gray-400 hover:text-white transition">Privacy</a>
                    <span class="text-gray-600">•</span>
                    <a href="#" class="text-gray-400 hover:text-white transition">Terms</a>
                    <span class="text-gray-600">•</span>
                    <a href="#" class="text-gray-400 hover:text-white transition">Contact</a>
                    <span class="text-gray-600">•</span>
                    <a href="#" class="text-gray-400 hover:text-white transition">About</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        // Initialize AOS
        AOS.init({
            duration: 800,
            once: true,
            offset: 100
        });

        // Mobile menu toggle with improvements
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        
        if (mobileMenuButton && mobileMenu) {
            // Toggle menu on button click
            mobileMenuButton.addEventListener('click', function(e) {
                e.stopPropagation();
                const isHidden = mobileMenu.classList.contains('hidden');
                
                if (isHidden) {
                    // Open menu
                    mobileMenu.classList.remove('hidden');
                    mobileMenuButton.innerHTML = '<i class="fas fa-times text-xl"></i>';
                    document.body.style.overflow = 'hidden'; // Prevent background scroll
                } else {
                    // Close menu
                    mobileMenu.classList.add('hidden');
                    mobileMenuButton.innerHTML = '<i class="fas fa-bars text-xl"></i>';
                    document.body.style.overflow = ''; // Restore scroll
                }
            });
            
            // Close menu when clicking a link
            const mobileMenuLinks = mobileMenu.querySelectorAll('a');
            mobileMenuLinks.forEach(link => {
                link.addEventListener('click', function() {
                    mobileMenu.classList.add('hidden');
                    mobileMenuButton.innerHTML = '<i class="fas fa-bars text-xl"></i>';
                    document.body.style.overflow = ''; // Restore scroll
                });
            });
            
            // Close menu when clicking outside
            document.addEventListener('click', function(e) {
                if (!mobileMenu.contains(e.target) && !mobileMenuButton.contains(e.target)) {
                    if (!mobileMenu.classList.contains('hidden')) {
                        mobileMenu.classList.add('hidden');
                        mobileMenuButton.innerHTML = '<i class="fas fa-bars text-xl"></i>';
                        document.body.style.overflow = ''; // Restore scroll
                    }
                }
            });
            
            // Close menu on window resize to desktop size
            window.addEventListener('resize', function() {
                if (window.innerWidth >= 768) {
                    mobileMenu.classList.add('hidden');
                    mobileMenuButton.innerHTML = '<i class="fas fa-bars text-xl"></i>';
                    document.body.style.overflow = ''; // Restore scroll
                }
            });
        }

        // Navbar scroll effect
        window.addEventListener('scroll', function() {
            const navbar = document.querySelector('.navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });
    </script>
    
    <!-- Intersection Observer for Scroll Animations -->
    <script>
        // Intersection Observer for Scroll Reveal Animations
        const observerOptions = {
            threshold: 0.15,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                    
                    // Trigger counter animation for stats if present
                    if (entry.target.querySelector('.stat-number')) {
                        const counters = entry.target.querySelectorAll('.stat-number');
                        counters.forEach(counter => animateCounter(counter));
                    }
                }
            });
        }, observerOptions);

        // Observe all scroll-reveal elements
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.scroll-reveal, .fade-left, .fade-right, .scale-in').forEach(el => {
                observer.observe(el);
            });
        });

        // Counter Animation Function for Stats
        function animateCounter(element) {
            const target = parseInt(element.getAttribute('data-target') || element.textContent.replace(/[^0-9]/g, ''));
            if (isNaN(target) || element.dataset.animated) return;
            
            element.dataset.animated = 'true';
            const duration = 2000;
            const increment = target / (duration / 16);
            let current = 0;

            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    element.textContent = target.toLocaleString();
                    if (element.textContent.includes('%')) {
                        element.textContent = target + '%';
                    }
                    clearInterval(timer);
                } else {
                    element.textContent = Math.floor(current).toLocaleString();
                }
            }, 16);
        }
    </script>
    
    {% block extra_js %}{% endblock %}
</body>
</html>
